<!DOCTYPE html>
<html>
<head>
    <title>Student Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">
    <h1 class="text-center mb-4">Student Management System</h1>
    <form method="get" class="row g-3 mb-3">
        <div class="col-md-10"><input type="text" name="q" value="{{ query }}" class="form-control" placeholder="Search by Name, Roll, or Course"></div>
        <div class="col-md-2"><button type="submit" class="btn btn-secondary w-100">Search</button></div>
    </form>
    <div class="mb-3">
        <a href="/export" class="btn btn-success">Export to CSV</a>
    </div>
    <form action="/add" method="post" class="row g-3 mb-4">
        <div class="col-md-3"><input type="text" name="name" class="form-control" placeholder="Name" required></div>
        <div class="col-md-3"><input type="text" name="roll" class="form-control" placeholder="Roll No" required></div>
        <div class="col-md-3"><input type="text" name="course" class="form-control" placeholder="Course" required></div>
        <div class="col-md-3"><button type="submit" class="btn btn-primary w-100">Add Student</button></div>
    </form>
    <table class="table table-bordered table-striped text-center">
        <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Roll</th>
                <th>Course</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for student in students %}
            <tr>
                <td>{{ student[0] }}</td>
                <td>{{ student[1] }}</td>
                <td>{{ student[2] }}</td>
                <td>{{ student[3] }}</td>
                <td>
                    <a href="/edit/{{ student[0] }}" class="btn btn-warning btn-sm">Edit</a>
                    <a href="/delete/{{ student[0] }}" class="btn btn-danger btn-sm">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
</body>
</html>
